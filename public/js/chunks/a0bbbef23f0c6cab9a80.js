(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"5OWj":function(e,t,r){"use strict";var n=r("L2JU");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a={methods:s({},Object(n.mapActions)("events",["clearForm"])),computed:s({},Object(n.mapState)({events:function(e){return e.events},subEvents:function(e){return e.subEvents},invitations:function(e){return e.invitations}}))}},"N4/z":function(e,t,r){"use strict";var n=r("L2JU");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a={methods:s({},Object(n.mapActions)("subEvents",["clearForm"])),computed:s({},Object(n.mapState)({addresses:function(e){return e.addresses},events:function(e){return e.events},subEvents:function(e){return e.subEvents}}))}},lMlO:function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),c=r.n(n),s=r("jx1L"),o=r("CtO9"),a=r("L2JU");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={methods:u({},Object(a.mapActions)("receptive",["clearForm"])),computed:u({},Object(a.mapState)({invitations:function(e){return e.invitations},receptive:function(e){return e.receptive},statistics:function(e){return e.receptive.data.statistics}}))},p=r("5OWj"),v=r("N4/z"),b=r("mj45"),m=r("NAv5");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={name:"receptive",uri:"events/{events.selected.id}/receptive",isForm:!0},O={props:["mode"],mixins:[s.a,l,o.a,p.a,v.a],components:{QrcodeStream:b.QrcodeStream,QrcodeDropZone:b.QrcodeDropZone,QrcodeCapture:b.QrcodeCapture},data:function(){return{service:g,result:"",noStreamApiSupport:!1,inv:"",qrCodeError:null}},computed:h({},Object(a.mapState)({checkedIn:function(e){return e.receptive.checkedIn}})),methods:h({},Object(a.mapActions)(g.name,["selectInvitation"]),{confirmCheckin:function(e){var t=this;null==e.checkin_at?confirm("Deseja realizar o check-in de "+e.person_institution.person.name+"?",this).then((function(r){r&&t.makeCheckin(e.uuid)})):showMessage("Este convidado já fez check-in no evento",this)},makeCheckin:function(e){return this.$store.dispatch("receptive/makeCheckin",e)},onDecode:function(e){return this.makeCheckin(e)},onInit:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.awrap(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),"NotAllowedError"===t.t0.name?this.qrCodeError="ERROR: you need to grant camera access permisson":"NotFoundError"===t.t0.name?this.qrCodeError="ERROR: no camera on this device":"NotSupportedError"===t.t0.name?this.qrCodeError="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===t.t0.name?this.qrCodeError="ERROR: is the camera already in use?":"OverconstrainedError"===t.t0.name?this.qrCodeError="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===t.t0.name&&(this.qrCodeError="ERROR: Stream API is not supported in this browser");case 8:case"end":return t.stop()}}),null,this,[[0,5]])},getCheckedIn:function(){return this.$store.state.receptive.checkedIn},clearCheckedIn:function(){return this.$store.commit("receptive/clearCheckedIn")},getCheckedInTime:function(e){return Object(m.format)(Object(m.parse)(e.checkin_at),"HH[h]mm")},firstLast:function(e){return first_last(e)}}),mounted:function(){this.$store.dispatch("receptive/load")}},C=r("KHd+"),k=Object(C.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.can("receptive")?r("div",[r("div",{staticClass:"py-2 text-center"},[r("h3",[e._v(e._s(e.events.selected.name))])]),e._v(" "),e.getCheckedIn().data?r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[e.getCheckedIn()&&e.getCheckedIn().data?r("div",{staticClass:"text-center"},[r("h4",{staticClass:"text-center"},[e._v("\n                    "+e._s(e.getCheckedIn().data.person_institution.person.name)+"\n                ")]),e._v(" "),r("h6",{staticClass:"text-center"},[e._v("\n                    "+e._s(e.getCheckedIn().data.person_institution.role.name)+"\n                ")]),e._v(" "),r("h6",{staticClass:"text-center"},[e._v("\n                    "+e._s(e.getCheckedIn().data.person_institution.institution.name)+"\n                ")]),e._v(" "),r("br"),e._v(" "),r("span",{staticClass:"badge text-white mb-4 pt-2 pb-3 pl-5 pr-5",style:{"background-color":e.getCheckedIn().data.sub_event.sector?e.getColor(e.getCheckedIn().data.sub_event.sector.color,0):"",color:e.getColor(e.getCheckedIn().data.sub_event.sector.color,1),"text-transform":"uppercase"}},[r("h3",{staticClass:"mb-0"},[e._v("\n                        "+e._s(e.getCheckedIn().data.sub_event.sector?e.getCheckedIn().data.sub_event.sector.name:"")+"\n                    ")]),e._v(" "),r("br"),e._v("\n\n                    "+e._s(e.getCheckedIn().data.sub_event.place)+"\n                ")]),e._v(" "),r("img",{staticClass:"img-thumbnail rounded mx-auto d-block mb-2",attrs:{src:e.getCheckedIn().data.person_institution.person.photoUrl,width:"200",height:"200"}}),e._v(" "),r("h2",{staticClass:"text-center"},[e._v(e._s(e.getCheckedIn().data.code))]),e._v(" "),r("br"),e._v(" "),r("div",{class:"btn btn-lg btn-block "+(e.getCheckedIn().success?"btn-success":"btn-danger"),domProps:{innerHTML:e._s(e.getCheckedIn().errors?e.checkedIn.errors:"Check-in feito com sucesso!")},on:{click:function(t){return e.clearCheckedIn()}}})]):e._e()])]):e._e(),e._v(" "),e.getCheckedIn().data?e._e():r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card card-block bg-faded"},[r("div",{staticClass:"row"},[e.receptive.data.statistics?r("div",{staticClass:"col-6 text-center"},[e._v("\n                        confirmados:\n                        "+e._s(e.receptive.data.statistics.confirmed)+"\n                    ")]):e._e(),e._v(" "),e.receptive.data.statistics?r("div",{staticClass:"col-6 text-center"},[e._v("\n                        ingressaram:\n                        "+e._s(e.receptive.data.statistics.totalcheckedin)+"\n                    ")]):e._e()])])]),e._v(" "),r("div",{staticClass:"col-sm-12 col-md-6"},[r("app-table-panel",{attrs:{title:"Leitura QRCode"}},[r("div",{staticClass:"m-4"},[r("qrcode-drop-zone",{on:{decode:e.onDecode}},[r("qrcode-stream",{on:{decode:e.onDecode,init:e.onInit}})],1),e._v(" "),e.noStreamApiSupport?r("qrcode-capture",{on:{decode:e.onDecode}}):e._e()],1),e._v("\n\n                "+e._s(e.qrCodeError)+"\n            ")])],1),e._v(" "),r("div",{staticClass:"col-sm-12 col-md-6"},[r("app-table-panel",{attrs:{title:"Convidados","per-page":e.perPage,"filter-text":e.filterText},on:{"input-filter-text":function(t){e.filterText=t.target.value},"set-per-page":function(t){e.perPage=t}}},[r("app-table",{attrs:{pagination:e.receptive.data.links.pagination,columns:["Convite",{type:"label",title:"Setor",trClass:"text-center"},"Convidado",{type:"label",title:"Check-in",trClass:"text-center"},{type:"label",title:"Foto",trClass:"text-center"}]},on:{"goto-page":function(t){return e.gotoPage(t)}}},e._l(e.receptive.data.rows,(function(t){return r("tr",{staticClass:"cursor-pointer",on:{click:function(r){return e.confirmCheckin(t)}}},[r("td",{staticClass:"align-middle text-center"},[e._v("\n                            "+e._s(t.code)+"\n                        ")]),e._v(" "),r("td",{staticClass:"align-middle text-center"},[r("span",{staticClass:"badge text-white p-2",style:{"background-color":t.sub_event.sector?e.getColor(t.sub_event.sector.color,0):"",color:e.getColor(t.sub_event.sector.color,1),"text-transform":"uppercase"}},[e._v("\n                                "+e._s(t.sub_event.sector?t.sub_event.sector.name:"")+"\n                            ")])]),e._v(" "),r("td",{staticClass:"align-middle"},[r("strong",[e._v(e._s(t.person_institution.person.name))]),e._v(" "),r("br"),e._v("\n\n                            "+e._s(t.sub_event.name)),r("br")]),e._v(" "),r("td",{staticClass:"align-middle text-center"},[r("h6",{staticClass:"mb-0"},[t.checkin_at?r("div",[r("span",{staticClass:"badge badge-success"},[e._v(e._s(e.getCheckedInTime(t)))]),e._v(" "),r("br"),e._v(" "),r("span",{staticClass:"text-sm"},[r("small",[e._v(e._s(e.firstLast(t.checked_in_by.name)))])])]):e._e(),e._v(" "),t.checkin_at?e._e():r("span",{staticClass:"badge badge-danger"},[e._v("não")])])]),e._v(" "),r("td",{staticClass:"align-middle text-center"},[r("img",{staticClass:"img-thumbnail rounded mx-auto d-block mb-2",attrs:{src:t.person_institution.person.photoUrl,width:"50",height:"50"}})])])})),0)],1)],1)])]):e._e()}),[],!1,null,null,null);t.default=k.exports}}]);